EasySocial.module("admin/workflows/choices",function(a){var b=this;EasySocial.Controller("Config.Choices",{defaultOptions:{"{choiceItems}":"[data-fields-config-param-choice]",unique:1}},function(b){return{init:function(){b.options.unique=void 0!==b.element.data("unique")?b.element.data("unique"):1,b.choiceItems().implement(EasySocial.Controller.Config.Choices.Choice,{controller:{choices:b}}),b.initSortable()},initSortable:function(){b.element.sortable({items:b.choiceItems.selector,placeholder:"ui-state-highlight",cursor:"move",forceHelperSize:!0,handle:"[data-fields-config-param-choice-drag]",stop:function(){a(".tooltip-es").remove(),a("[data-fields-config-param]").trigger("change")}})}}}),EasySocial.Controller("Config.Choices.Choice",{defaultOptions:{"{choiceValue}":"[data-fields-config-param-choice-value]","{choiceTitle}":"[data-fields-config-param-choice-title]","{choiceDefault}":"[data-fields-config-param-choice-default]","{addChoice}":"[data-fields-config-param-choice-add]","{removeChoice}":"[data-fields-config-param-choice-remove]","{setDefault}":"[data-fields-config-param-choice-setdefault]","{defaultIcon}":"[data-fields-config-param-choice-defaulticon]"}},function(b){return{init:function(){},"{addChoice} click":function(){var a=b.element.clone(),c=a.find('input[type="text"]');c.attr("value",""),c.val("");var d=a.find('input[type="hidden"]');d.attr("value",0),d.val(0),a.attr("data-id",0),a.data("id",0),a.implement(EasySocial.Controller.Config.Choices.Choice,{controller:{choices:b.choices}}),b.element.after(a)},"{removeChoice} click":function(){var c=b.choices.choiceItems().length-1;c>=1&&(b.element.remove(),a(".tooltip-es").remove(),a("[data-fields-conditional-param]").trigger("change"),a("[data-fields-config-param]").trigger("change"))},"{setDefault} click":function(){{var a=b.element.index();b.choiceTitle().val(),b.choiceValue().val()}b.choices.choiceItems().trigger("toggleDefault",[a])},"{self} toggleDefault":function(c,d,e){var f=b.element.index(),g=parseInt(b.choiceDefault().val());f===e?g?(b.defaultIcon().removeClass("es-state-featured").addClass("es-state-default"),b.choiceDefault().val(0)):(b.defaultIcon().removeClass("es-state-default").addClass("es-state-featured"),b.choiceDefault().val(1)):b.choices.options.unique&&(b.defaultIcon().removeClass("es-state-featured").addClass("es-state-default"),b.choiceDefault().val(0)),a("[data-fields-config-param]").trigger("change")}}}),b.resolve()});
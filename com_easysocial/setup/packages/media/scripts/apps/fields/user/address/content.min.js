EasySocial.module("apps/fields/user/address/content",function(a){var b=this;EasySocial.Controller("Field.Address",{defaultOptions:{required:{},show:{},"{field}":"[data-field-address]","{address1}":"[data-field-address-address1]","{address2}":"[data-field-address-address2]","{city}":"[data-field-address-city]","{state}":"[data-field-address-state]","{country}":"[data-field-address-country]","{zip}":"[data-field-address-zip]","{required}":"[data-required]","{notice}":"[data-check-notice]"}},function(b,c){return{init:function(){b.initErrorsData()},fields:["address1","address2","city","state","zip","country"],initErrorsData:function(){var a=b.field().htmlData();c.error=a.error},"{self} onRender":function(){b.initErrorsData()},validateInput:function(){b.clearError();var d=!1;return b.clearError(),a.each(b.fields,function(e,f){var g=b[f]();g.removeClass("has-error");var h=g.val();a.isEmpty(h)&&b.options.required[f]&&b.options.show[f]&&(g.addClass("has-error"),d||(b.raiseError(c.error[f]),d=!0))}),d?!1:!0},"{address1}, {address2}, {zip}, {city}, {state} blur":function(){b.validateInput()},"{country} change":function(c){if(b.validateInput(),b.state().is("select")){if(""==c.val()){b.state().empty();{a("<option></option>").html(b.options.selectCountryText).val("").appendTo(b.state())}return}EasySocial.ajax("fields/user/address/getStates",{id:b.options.id,country:c.val()}).done(function(c){b.state().empty(),a("<option></option>").html(b.options.selectStateText).val("").appendTo(b.state()),a.each(c,function(c,d){a("<option></option>").html(d).val(d).appendTo(b.state())})})}},raiseError:function(a){b.trigger("error",[a])},clearError:function(){b.trigger("clear")},"{self} onSubmit":function(a,c,d){d.push(b.validateInput())},"{self} onConfigChange":function(c,d,e,f){var g=["address1","address2","city","zip","state","country"];a.inArray(e,g)>=0&&(b.options.required[e]=!!f),b.required().hide(),a.each(g,function(a,c){return b.options[c]?(b.required().show(),!1):void 0})}}}),b.resolve()});
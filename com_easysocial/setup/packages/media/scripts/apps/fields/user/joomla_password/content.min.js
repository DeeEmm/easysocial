EasySocial.module("apps/fields/user/joomla_password/content",function(a){var b=this;EasySocial.require().library("passwordstrength").done(function(){EasySocial.Controller("Field.Joomla_password",{defaultOptions:{event:null,triggerError:!0,required:!1,passwordStrength:!1,reconfirmPassword:!1,requireOriginal:!1,min:4,max:0,minInteger:0,minSymbol:0,minUpperCase:0,"{field}":"[data-field-joomla_password]","{original}":"[data-field-password-orig]","{input}":"[data-field-password-input]","{reconfirm}":"[data-field-password-confirm]","{pwResetSubmitButton}":"[data-password-reset-submit]","{warning}":"[data-field-password-warning]","{reconfirmNotice}":"[data-reconfirmPassword-failed]","{strength}":"[data-password-strength]"}},function(b,c){return{init:function(){c.passwordStrength&&b.initPasswordStrength()},"{self} onRender":function(){var a=b.field().htmlData();c.error=a.error},initPasswordStrength:function(){b.input().password_strength({container:b.strength.selector,minLength:c.min,texts:{1:b.strength().data("message-1"),2:b.strength().data("message-2"),3:b.strength().data("message-3"),4:b.strength().data("message-4"),5:b.strength().data("message-5")},onCheck:function(a){1>=a&&b.strength().removeClass("t-text--warning").removeClass("t-text--success").addClass("t-text--danger t-fs--sm"),a>1&&3>=a&&b.strength().removeClass("t-text--danger").removeClass("t-text--success").addClass("t-text--warning t-fs--sm"),a>=4&&b.strength().removeClass("t-text--danger").removeClass("t-text--warning").addClass("t-text--success t-fs--sm")}})},"{input} keyup":function(){b.validatePassword()},"{input} blur":function(){b.validatePassword()},"{reconfirm} keyup":function(){b.validatePassword()},"{reconfirm} blur":function(){b.validatePassword()},validatePassword:function(){b.clearError();b.input().val(),b.reconfirm().val();return"onRegister"!==b.options.event||b.validatePasswordInput()?"onEdit"!==b.options.event||b.validatePasswordEdit()?b.options.reconfirmPassword&&!b.validatePasswordConfirm()?!1:!0:!1:!1},validatePasswordInput:function(){var d=b.input().val();if(!c.error){var e=b.field().htmlData();c.error=e.error}if(a.isEmpty(d))return b.raiseError(c.error.empty),!1;if(b.options.min>0&&d.length<b.options.min)return b.raiseError(c.error.min),!1;if(b.options.max>0&&d.length>b.options.max)return b.raiseError(c.error.max),!1;if(b.options.minInteger>0){var f=d.match(/[0-9]/g);if(!f||f.length<b.options.minInteger)return b.raiseError(c.error.mininteger),!1}if(b.options.minSymbol>0){var f=d.match(/[\W]/g);if(!f||f.length<b.options.minSymbol)return b.raiseError(c.error.minsymbols),!1}if(b.options.minUpperCase>0){var f=d.match(/[A-Z]/g);if(!f||f.length<b.options.minUpperCase)return b.raiseError(c.error.minupper),!1}return!0},validatePasswordEdit:function(){var d=b.original().val(),e=b.input().val();return a.isEmpty(e)&&a.isEmpty(d)?!0:a.isEmpty(d)&&b.options.requireOriginal?(b.raiseError(c.error.emptyoriginal),!1):b.validatePasswordInput()},validatePasswordConfirm:function(){var d=b.input().val(),e=b.reconfirm().val();if(!a.isEmpty(d)||!a.isEmpty(e)){if(a.isEmpty(d))return b.raiseError(c.error.empty),!1;if(a.isEmpty(e))return b.raiseError(c.error.emptyconfirm),!1;if(d!==e)return b.raiseError(c.error.mismatch),!1}return!0},raiseError:function(a){b.options.triggerError?b.trigger("error",[a]):(b.warning().show(),b.warning().text(a))},clearError:function(){b.options.triggerError?b.trigger("clear"):(b.warning().hide(),b.warning().text(""))},"{pwResetSubmitButton} click":function(){return b.validatePassword()},"{self} onSubmit":function(a,c,d,e){"onRegisterMini"!==e&&d.push(b.validatePassword())}}}),b.resolve()})});